<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="keywords" content="关键字，关键词" />
		<meta name="description" content="描述文字" />
		<title>canvas-O(∩_∩)O哈哈~</title>
		<style type="text/css">
			*{margin: 0px;padding: 0px;}
			html{overflow: hidden;}/*溢出隐藏*/
		</style>
	</head>
	<body>
		<!--canvas是html5中的一个标签，也是最忌有代表性的一个 动画效果 html5的游戏开发-->
		<canvas id="canvas"></canvas>
		<audio src="mp3/1.mp3" autoplay loop></audio>
		<script type="text/javascript">
			//1 获取屏幕分辨率
			var s = window.screen;;
			var w = s.width;
			var h = s.height;
//			alert();
			
			//获取canvas dom
			var canvas = document.getElementById("canvas");
			//获取绘画环境
			var ctx = canvas.getContext("2d");
			//2 动态添加canvas的大小
			canvas.width = w;
			canvas.height = h;
			
			var str = "我是陈伟鹏，我爱你妈！"
			//定义 文字的大小
			var fontSize = 12;
			//定义列的个数
			var cols = Math.floor(w/fontSize);
			//定义一个数组装所有的y坐标
			var drops = [];
			//遍历得到所有的y坐标 并 全部 初始化为0
			for(var i=0;i<cols;i++){
				drops.push(0);
			}
			//定义 绘画效果
			function draw(){
				ctx.fillStyle = "rgba(0,0,0,0.05)"
				ctx.fillRect(0,0,w,h)//用一个矩形来填充当作背景
				//颜色
				ctx.fillStyle="green";
				//文字 粗细 大小风格
				ctx.font="600 "+fontSize+"px 微软雅黑";
				for(var i=0;i<cols;i++){
					var index = Math.floor(Math.random()*str.length);
					var x = i*fontSize;
					var y = drops[i]*fontSize;
					ctx.fillText(str[index],x,y);
					if(y>=canvas.height&&Math.random()>0.89){
						drops[i]=0;
					}else{
						drops[i]++;
					}
				}
				
			}
			//执行方法
			draw();
			setInterval(draw,33);
		</script>
	</body>
</html>
